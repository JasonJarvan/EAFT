# EAFT
Emotion Analysier for Text (EAFT) :
Authors: N17366337 Sheng Zhao, N12614619 Yuanzhe Liu, N18927927 Shuwei Zheng

1. Introduction: 
A movie comments classifier and predictor where criticisms and applause are clearly presented. This classifier has unique features, which can be used to predict the specific score of particular comments from 0 to 10 (which are 'Reject','','Trash(0-2)','','Mediocre(2-4)','','Indifferent(4-6)','','Good(6-8)','','Masterwork(8-10)') and to identify people's feelings and emotions out of 4 (which are 'Fierce','Sadness','Happiness','Reject'). The accuracy is above 70% according to the tfscore.
We crawled 50000 comments from IMDB, and we manually cleaned and relabeled the. With high volume samples and accurate labels, our project reachs a high accuracy.
You can use the GUI to classify the emotion and score of a comment to movie.

2. Environment and Commands: 	
a.Download Anaconda for python 3.7 which contains jupyter notebook pre-installed. Open jupyter notebook, create a new python3 note, and make sure you have installed nltk, or input the following code to download nltk packages:
	import nltk
	nltk.download()
	Then the nltk's downloader will run. Download all the packages to the default filepath.
b. Unzip EAFT\Demo\Score Classifier\aclImdb.zip into 'EAFT\Demo\Score Classifier\aclImdb' folder.
c. Then you can put our program into the directory of your jupyter notebook's workspace (usually be your C:\Users\Your User) and see them in jupyter notebook. Run them with jupyter notebook.

Hint: Anaconda includes all the packages we need, so install it and set it as your main python's interpreter is important.


3. How to run EAFT: 
a. How to run the core classifier (model learner): 
Run Score Classifier.ipynb and Emotion Classifier.ipynb in jupyter notebook. By doing this, you will see the tf scores of different algorithms.

b. How to run the GUI: 
As you have anaconda correctly installed, simply open the CMD in the GUI's directory, and input the command: "python main.py", then you will see the GUI. You can use it to calculate how is the text being satisfied with the movie, which is the score from 0 to 10 (which are 'Reject','','Trash(0-2)','','Mediocre(2-4)','','Indifferent(4-6)','','Good(6-8)','','Masterwork(8-10)') , and the emotion out of 4 (which are 'Fierce','Sadness','Happiness','Reject').

4. Directories
├──Readme.txt  
├──Demo: The classifiers runned by jupyter notebook. These show the accuracy of our classifier.  
│   └──Emotion Classifier   
│       ├──Emotional Classifier.ipynb inputs text_emotion-ori.csv. This dataset isn't reclassified manually, so the accuracy is not high. The program's output is the accuracy and text2.csv. We use such test results to manually 		reclassify the emotions.   
│       ├──Emotional Classifier-Filter.ipynb inputs text_emotion-ori.csv and outputs dataafterfilter.csv.  
│       ├──Emotional Classifier-Divider.ipynb inputs dataafterfilternew.csv and outputs the accuracy.  
│       ├──text2.csv: where the predicted emotions of the first 3000 comments are.  
│       ├──text_emotion-ori.csv: where 40000 dataset is. This is original dataset that isn't manually reclassified.  
│       ├──dataafterfilter.csv: which is used for manually reclassifying and as the input of Emotional Classifier-Divider.  
│       └──dataafterfilternew.csv: which is manually reclassified.  
│   └──Score Classifier  
│       ├──score.ipynb:Inputs the acllmdb and output the accuracy.  
│       ├──Score Classifier Filter: Generate the scoreallafterfilter.csv, which can shorten our debuging time.  
│       ├──acllmdb: where 20000 dataset is.  
│       └──scoreallafterfilter.csv: includes the score and content of the 20000 dataset.  
├──GUI: The classifiers runned by python. This is our GUI which allows you to input your custom text and get output.  
│   ├──debug.py： which is used for debugging.  
│   ├──Classifier.ui: the GUI generated by QTDesigner.  
│   ├──Classifier_ui.py: Translated from Classifier.ui to python language by QTDesigner.  
│   ├──GUI.py: The functional code of GUI where triggers are.  
│   ├──main.py: The main method of GUI.  
│   ├──EmotionClassifier.py and ScoreClassifier.py: The classifiers.  
│   └──dataafterfilternew.csv and scoreallafterfilter.csv: will be used by classifiers.  
  
Hint: Each childfolder contains a Readme file to explain what's the use of the files.

5.Q&As
a. If you are running this code under sklearn 0.21+, please read this: 
'E:\ProgramFiles\Anaconda3\lib\site-packages\sklearn\externals\joblib\__init__.py:15: FutureWarning: sklearn.externals.joblib is deprecated in 0.21 and will be removed in 0.23. Please import this functionality directly from joblib, which can be installed with: pip install joblib. If this warning is raised when loading pickled models, you may need to re-serialize those models with scikit-learn 0.21+.warnings.warn(msg, category=FutureWarning)'

https://ssrweb.zoom.us/cmr/replay/2020/09/22/95704893448/6B764D77-1DCF-4A8A-9640-A4BCC13FA29A/GMT20200922-180946_Lecture_2276x1280.mp4?response-content-type=video%2Fmp4"&"amp;response-cache-control=max-age%3D0%2Cs-maxage%3D86400"&"amp;data=1c152fa4a33aa6ec3647d0b02a26f4297f2c3095f4dd0bf01ad95ae77f844aa7"&"amp;s001=yes"&"amp;cid=aw1"&"amp;fid=Shx7KDt_0-AnKM2QllyzuKQluk5gafo6eJ1OzioFy86pBJ3M1TLGo6B_Lgu6_hkWMqFPiqRDaHlp21Rj.szNLccJ4kvKVKW04"&"amp;s002=kFEMrivL63eFSuFRiNQRpyVlYvUWYK5xZUJHes1LnslUNwtn2ICli_PWdw.SYML2kg6-6lb8c5p"&"amp;Policy=eyJTdGF0ZW1lbnQiOiBbeyJSZXNvdXJjZSI6Imh0dHBzOi8vc3Nyd2ViLnpvb20udXMvY21yL3JlcGxheS8yMDIwLzA5LzIyLzk1NzA0ODkzNDQ4LzZCNzY0RDc3LTFEQ0YtNEE4QS05NjQwLUE0QkNDMTNGQTI5QS9HTVQyMDIwMDkyMi0xODA5NDZfTGVjdHVyZV8yMjc2eDEyODAubXA0P3Jlc3BvbnNlLWNvbnRlbnQtdHlwZT12aWRlbyUyRm1wNCZyZXNwb25zZS1jYWNoZS1jb250cm9sPW1heC1hZ2UlM0QwJTJDcy1tYXhhZ2UlM0Q4NjQwMCZkYXRhPTFjMTUyZmE0YTMzYWE2ZWMzNjQ3ZDBiMDJhMjZmNDI5N2YyYzMwOTVmNGRkMGJmMDFhZDk1YWU3N2Y4NDRhYTcmczAwMT15ZXMmY2lkPWF3MSZmaWQ9U2h4N0tEdF8wLUFuS00yUWxseXp1S1FsdWs1Z2FmbzZlSjFPemlvRnk4NnBCSjNNMVRMR282Ql9MZ3U2X2hrV01xRlBpcVJEYUhscDIxUmouc3pOTGNjSjRrdktWS1cwNCZzMDAyPWtGRU1yaXZMNjNlRlN1RlJpTlFScHlWbFl2VVdZSzV4WlVKSGVzMUxuc2xVTnd0bjJJQ2xpX1BXZHcuU1lNTDJrZzYtNmxiOGM1cCIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTYwNzMzNTM1M319fV19"&"amp;Signature=esTB9iuRCPHlm7d-lB7SwdkjYka3BBmpKBOIm1AFyY6BRDqGxuZJwK72Y4QJOIoEUGHRDJxcu1s2WGTTXEoHLZD0~igS9UXLBinoyVa7oDgR9sJuJsVOALfSeB8DbZ8~3plN4pNBdIcQWlzC-hGhM3y2Ecj22OxB5zYJ04tZgZqTVrs2kuO1riuIO1~MWQvUdARUI3801qQtABbGDRcxJ8etJmHqsadLbW1WY38IhrUvS-vp14yubH6Cne0Oa906NtrAjHPbAlLJKWdLmtEuxyuQxXi58r9cqUy80t48Q3S0JFkNm5laguJGXU226BczsvzQIXsLDk0Mz14P6oCoKQ__"&"amp;Key-Pair-Id=APKAJFHNSLHYCGFYQGIA
